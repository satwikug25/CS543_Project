% Pipeline Diagram using TikZ
% Include this in your LaTeX document with: \input{pipeline_diagram.tex}

\begin{figure}[h]
\centering
\begin{tikzpicture}[
    node distance=1.5cm and 2cm,
    box/.style={rectangle, draw=black!50, fill=blue!10, text width=2.5cm, 
                text centered, minimum height=1cm, rounded corners},
    arrow/.style={->, >=stealth, thick}
]

% Nodes
\node[box] (input) {Input\\Frame};
\node[box, right=of input] (markers) {ArUco\\Marker\\Detection};
\node[box, right=of markers] (transform) {Perspective\\Transformation};
\node[box, below=of transform] (grid) {Grid\\Extraction\\(8Ã—8)};
\node[box, left=of grid] (vlm) {VLM\\Classification\\(Gemini)};
\node[box, left=of vlm] (detect) {Move\\Detection};
\node[box, below=of detect] (engine) {Chess\\Engine\\(Lichess)};
\node[box, right=of engine] (output) {Move\\Output};

% Arrows
\draw[arrow] (input) -- (markers);
\draw[arrow] (markers) -- (transform);
\draw[arrow] (transform) -- (grid);
\draw[arrow] (grid) -- (vlm);
\draw[arrow] (vlm) -- (detect);
\draw[arrow] (detect) -- (engine);
\draw[arrow] (engine) -- (output);

% Labels on arrows
\node[above=0.2cm of markers, font=\small] {Detect 4 corners};
\node[above=0.2cm of transform, font=\small] {Warp to top-down};
\node[right=0.2cm of grid, font=\small] {64 squares};
\node[below=0.2cm of vlm, font=\small] {Classify pieces};
\node[below=0.2cm of detect, font=\small] {Compare states};
\node[below=0.2cm of engine, font=\small] {Get best move};

\end{tikzpicture}
\caption{Complete chess bot pipeline from image capture to move detection}
\label{fig:pipeline}
\end{figure}



